\documentclass{standalone}
\usepackage{quiver}
\usepackage[most]{tcolorbox}
\usepackage{xcolor}

\input{preamble/colors.tex}
\input{preamble/commands.tex}
\input{preamble/symbols.tex}

\newcommand{\edge}[1]{\code{#1}}
\newcommand{\head}[1]{\textbf{\underline{#1}}}

%\newcommand{\edge}[1]{#1}s

\begin{document}
% % https://q.uiver.app/#q=WzAsMjQsWzQsMTEsImNvbW1fcmFua19kaXNwbGFjZWQiXSxbNCw5LCJjb21tX3NldF9uZWlnaGJvcl9yYW5rcyJdLFs1LDksImNvbW1fbmVpZ2hib3JfcmFuayJdLFs1LDgsImNvbW1fcGVlcjJwZWVyX2luaXQiXSxbNSw3LCJjb21tX2luaXRfY29tbW9uIl0sWzQsNywiY29tbV9pbml0Il0sWzQsMywib3BlblFDRF9xdWRhU2V0TGF5b3V0Il0sWzQsMiwib3BlblFDRF9xdWRhSW5pdCJdLFs0LDAsInF1ZGFfaW5pdCJdLFswLDRdLFs4LDRdLFswLDFdLFs4LDFdLFszLDgsIkNvbW11bmljYXRvciJdLFsyLDZdLFs2LDZdLFsyLDEwXSxbNiwxMF0sWzEsNiwiUVVEQSJdLFsxLDAsIm9wZW5ReEQiXSxbMSwyLCJJbnRlcmZhY2UiXSxbNCw1LCJpbml0Q29tbXNHcmlkUXVkYSJdLFswLDEyXSxbOCwxMl0sWzEsMF0sWzIsMV0sWzMsMl0sWzMsMV0sWzQsM10sWzUsNF0sWzcsNl0sWzgsN10sWzksMTAsIiIsMix7InN0eWxlIjp7ImhlYWQiOnsibmFtZSI6Im5vbmUifX19XSxbMTEsMTIsIiIsMix7InN0eWxlIjp7ImhlYWQiOnsibmFtZSI6Im5vbmUifX19XSxbMTQsMTUsIiIsMix7InN0eWxlIjp7ImhlYWQiOnsibmFtZSI6Im5vbmUifX19XSxbMTYsMTcsIiIsMix7InN0eWxlIjp7ImhlYWQiOnsibmFtZSI6Im5vbmUifX19XSxbMjEsNV0sWzYsMjFdLFsyMiwyMywiIiwyLHsic3R5bGUiOnsiaGVhZCI6eyJuYW1lIjoibm9uZSJ9fX1dXQ==
% \begin{tikzcd}
%   & openQxD &&& {\edge{quda\_init}} \\
%   {} &&&&&&&& {} \\
%   & Interface &&& {\edge{openQCD\_qudaInit}} \\
%   &&&& {\edge{openQCD\_qudaSetLayout}} \\
%   {} &&&&&&&& {} \\
%   &&&& \edge{initCommsGridQuda} \\
%   & QUDA & {} &&&& {} \\
%   &&&& {\edge{comm\_init}} & {\edge{comm\_init\_common}} \\
%   &&& \edge{Communicator} && {\edge{comm\_peer2peer\_init}} \\
%   &&&& {\edge{comm\_set\_neighbor\_ranks}} & {\edge{comm\_neighbor\_rank}} \\
%   && {} &&&& {} \\
%   &&&& {\edge{comm\_rank\_displaced}} \\
%   {} &&&&&&&& {}
%   \arrow[from=1-5, to=3-5]
%   \arrow[dotted, no head, from=2-1, to=2-9]
%   \arrow[from=3-5, to=4-5]
%   \arrow[from=4-5, to=6-5]
%   \arrow[dotted, no head, from=5-1, to=5-9]
%   \arrow[from=6-5, to=8-5]
%   \arrow[dotted, no head, from=7-3, to=7-7]
%   \arrow[from=8-5, to=8-6]
%   \arrow[from=8-6, to=9-6]
%   \arrow[from=9-6, to=10-5]
%   \arrow[from=9-6, to=10-6]
%   \arrow[from=10-5, to=12-5]
%   \arrow[from=10-6, to=10-5]
%   \arrow[dotted, no head, from=11-3, to=11-7]
%   %\arrow[dotted, no head, from=13-1, to=13-9]
% \end{tikzcd}
% https://q.uiver.app/#q=WzAsMjMsWzMsMTEsImNvbW1fcmFua19kaXNwbGFjZWQiXSxbMiwxMCwiY29tbV9zZXRfbmVpZ2hib3JfcmFua3MiXSxbMiw4LCJjb21tX3BlZXIycGVlcl9pbml0Il0sWzMsNywiY29tbV9pbml0X2NvbW1vbiJdLFsyLDYsImNvbW1faW5pdCJdLFsyLDMsIm9wZW5RQ0RfcXVkYVNldExheW91dCJdLFsyLDIsIm9wZW5RQ0RfcXVkYUluaXQiXSxbMiwwLCJxdWRhX2luaXQiXSxbMCw0XSxbNSw0XSxbMCwxXSxbNSwxXSxbMyw1LCJRVURBIl0sWzMsMCwib3BlblF4RCJdLFszLDIsIkludGVyZmFjZSJdLFsyLDUsImluaXRDb21tc0dyaWRRdWRhIl0sWzYsMTNdLFs0LDEwLCJUb3BvbG9neSJdLFs1LDEwLCJjc3RhciJdLFszLDksImNvbW1fbmVpZ2hib3JfcmFuayJdLFs0LDMsInJhbmtGcm9tQ29vcmRzIl0sWzQsNiwiY29tbV9jcmVhdGVfdG9wb2xvZ3kiXSxbNCw4LCJjb21tX3NldF9kZWZhdWx0X3RvcG9sb2d5Il0sWzEsMF0sWzIsMV0sWzMsMl0sWzQsM10sWzYsNV0sWzcsNl0sWzgsOSwiIiwyLHsic3R5bGUiOnsiYm9keSI6eyJuYW1lIjoiZG90dGVkIn0sImhlYWQiOnsibmFtZSI6Im5vbmUifX19XSxbMTAsMTEsIiIsMix7InN0eWxlIjp7ImJvZHkiOnsibmFtZSI6ImRvdHRlZCJ9LCJoZWFkIjp7Im5hbWUiOiJub25lIn19fV0sWzE1LDRdLFs1LDE1XSxbMTcsMTgsIm1lbWJlciIsMCx7InN0eWxlIjp7ImJvZHkiOnsibmFtZSI6ImRhc2hlZCJ9fX1dLFswLDE3LCJhcmd1bWVudCIsMix7InN0eWxlIjp7InRhaWwiOnsibmFtZSI6ImFycm93aGVhZCJ9LCJib2R5Ijp7Im5hbWUiOiJkYXNoZWQifSwiaGVhZCI6eyJuYW1lIjoibm9uZSJ9fX1dLFsxNywxLCJhcmd1bWVudCIsMix7InN0eWxlIjp7ImJvZHkiOnsibmFtZSI6ImRhc2hlZCJ9fX1dLFsxOSwxXSxbMiwxOV0sWzE3LDE5LCJhcmd1bWVudCIsMix7InN0eWxlIjp7ImJvZHkiOnsibmFtZSI6ImRhc2hlZCJ9fX1dLFszLDIxXSxbMjEsMjBdLFsyMiwxNywic2V0cyIsMCx7InN0eWxlIjp7ImJvZHkiOnsibmFtZSI6ImRhc2hlZCJ9fX1dLFszLDIyXV0=
\begin{tikzcd}
  && {\edge{quda\_init}} & \head{openQxD} \\
  {} &&&&& {} \\
  && {\edge{openQCD\_qudaInit}} & \head{Interface} \\
  && {\edge{openQCD\_qudaSetLayout}} && \edge{rankFromCoords} \\
  {} &&&&& {} \\
  && \edge{initCommsGridQuda} & \head{QUDA} \\
  && {\edge{comm\_init}} && {\edge{comm\_create\_topology}} \\
  &&& {\edge{comm\_init\_common}} \\
  && {\edge{comm\_peer2peer\_init}} && {\edge{comm\_set\_default\_topology}} \\
  &&& {\edge{comm\_neighbor\_rank}} \\
  && {\edge{comm\_set\_neighbor\_ranks}} && \edge{Topology} & \edge{cstar} \\
  &&& {\edge{comm\_rank\_displaced}} \\
  \\
  &&&&&& {}
  \arrow[from=1-3, to=3-3]
  \arrow[dotted, no head, from=2-1, to=2-6]
  \arrow[from=3-3, to=4-3]
  \arrow[from=4-3, to=6-3]
  \arrow[dotted, no head, from=5-1, to=5-6]
  \arrow[from=6-3, to=7-3]
  \arrow[from=7-3, to=8-4]
  \arrow[from=7-5, to=4-5]
  \arrow[from=8-4, to=7-5]
  \arrow[from=8-4, to=9-3]
  \arrow[from=8-4, to=9-5]
  \arrow[from=9-3, to=10-4]
  \arrow[from=9-3, to=11-3]
  \arrow["sets", dashed, from=9-5, to=11-5]
  \arrow[from=10-4, to=11-3]
  \arrow[from=11-3, to=12-4]
  \arrow["is\ argument\ of"', dashed, from=11-5, to=10-4]
  \arrow["is\ argument\ of"', dashed, from=11-5, to=11-3]
  \arrow["has\ member", dashed, from=11-5, to=11-6]
  \arrow["is\ argument\ of"', dashed, tail reversed, no head, from=12-4, to=11-5]
\end{tikzcd}
\end{document}
