\chapter{Symmetry metrices}
\label{ch:appendix:symmetries}
\label{ch:appendix:D}

\readit{1}

In order to quantify the symmetry of the numerical range of an operator we have implemented a metric; the intersection-over-union (IoU).
Assume we have a continuous subset set of complex numbers $S \subseteq \mathbb{C}$ and a reflection operator $\mathcal{R} \colon z \mapsto \mathcal{R}(z)$ and $\mathcal{R}(S) = \{ \mathcal{R}(z) \mid z \in S \} $.
We define the asymmetry score with respect to $\mathcal{R}$ for continuous sets as
\begin{equation} \label{eq:asymmetry:score:cont}
M_c(\mathcal{R}; S)
= 1-
\frac{\area{ S \cap \mathcal{R}(S) }}
     {\area{ S \cup \mathcal{R}(S) }}
\in \left[ 0, 1 \right] \;.
\end{equation}
An asymmetry score of \num{0} implies perfect symmetry, whereas \num{1} indicates no symmetry.

For the spectrum which is a point set, we have a different metric.
Assume we have a point set $S = \{s_1, \ldots, s_n\} \subset \mathbb{C}$ and a set of non-negative real errors $E = \{e_1, \ldots, e_n\}$ such that $s_i$ has error $e_i$ on its real and imaginary parts.
We define the asymmetry score for point-sets as
\begin{align} \label{eq:asymmetry:score:pt}
M_p(\mathcal{R}; S) &= \frac{1}{n} \sum_{i=1}^{n} \delta(i)
\in \left[ 0, 1 \right] \;, \\
\delta(i) &=
\begin{cases}
    0 & \text{if } \exists j \colon \norm{s_i - \mathcal{R}(s_j)}_{\infty} \leq e_i+e_j \\
    1 & \text{otherwise}
\end{cases}
\end{align}
where the norm is defined as
\begin{equation}
\norm{z - w}_{\infty} \coloneq \max(\Re(z - w), \Im(z - w)) \;.
\end{equation}
Thus for every point in $S$, if its error rectangle does not overlap with the error rectangle of any point in $R(S)$, we count $1$ to the score.

\Cref{tab:asymmetry:scores} shows asymmetry scores for various numerical ranges and spectral hulls determined numerically.
We see high degrees of symmetry about the real axis for all operators that preserve chirality.
%Even the case \caseX{1} showsOn the other hand, the symmetry can only be verified up to the precision of eigenvalue determination for the operators with an analytical symmetry.
Gray colored scores correspond to analytical perfect symmetries.
Broken symmetries shows themselves as symmetry scores larger than eigenvalue precision.

\newcommand{\ant}[2]{#1}
\newcommand{\aut}[2]{\textcolor{gray}{ #1 }}
%\newcommand{\ast}[2]{\textbf{ #1 }}
\begin{table}
\begin{tabular}{c|ccc}
\toprule
\multicolumn{1}{c}{Operator} &
\multicolumn{1}{c}{Symmetry $\mathcal{R}$} &
\multicolumn{1}{c}{$M_c(\mathcal{R}; W(D))$} &
\multicolumn{1}{c}{$M_p(\mathcal{R}; \sigma(D))$} \\
\midrule
Wilson              & real axis                             & \aut{$1.2 \times 10^{-5}$}{1.225428429696418e-05} 
                                                            & \aut{0.027}{0.02734375} \\
(fine)              & center point                          & \aut{$1.0 \times 10^{-5}$}{1.0178085134593395e-05}
                                                            & \ant{0.29}{0.29296875} \\
\midrule
Wilson-Clover       & real axis                             & \aut{$1.1 \times 10^{-5}$}{1.1129247529217956e-05}
                                                            & \aut{0.037}{0.03676470588235292} \\
(fine)              & center point                          & \ant{$0.070$}{0.06978011204544077}
                                                            & \ant{0.53}{0.5294117647058824} \\
\midrule
% \caseX{1}, $4^{4}$   & real axis                             & \ant{$0.015$}{0.015392394837683288}
%                                                             & \ant{0.488}{0.4878048780487805} \\
% (coarse)            & center point                          & \ant{$0.028$}{0.02801502185149307}
%                                                             & \ant{1.0}{1.0} \\
% \midrule
% \caseX{2c}, $4^{4}$   & real axis                             & \aut{$4.2 \times 10^{-9}$}{4.263768560441861e-09}
%                                                             & \aut{0.1}{0.09999999999999998} \\
% (coarse)            & center point                          & \ant{$0.014$}{0.013976043931514748}
%                                                             & \ant{1.0}{1.0} \\
% \bottomrule
\caseX{1}, $6^{4}$      & real axis                         & \ant{0.013}{0.012689731798519066}
                                                            & \ant{0.33}{0.32558139534883723} \\
(coarse)                & center point                      & \ant{0.031}{0.03147742194608616}
                                                            & \ant{0.65}{0.6511627906976745} \\
\midrule
\caseX{2sc}, $6^{4}$    & real axis                         & \aut{$1.1 \times 10^{-8}$}{1.0991055066078559e-08}
                                                            & \aut{0.063}{0.0625} \\
(coarse)                & center point                      & \ant{0.031}{0.03144572737373563}
                                                            & \ant{1.0}{1.0} \\
\bottomrule
\end{tabular}
\caption{
Asymmetry scores \cref{eq:asymmetry:score:cont,eq:asymmetry:score:pt} for numerical ranges (third column) and spectra (fourth column).
For gray quantities, we expect \num{0} from the analytical studies above.
The numerical range eigenvalues were determined up to $10^{-6}$ and the spectral hull eigenvalues only up to $10^{-1}$.
We see good agreement with theory up to numerical precision.
}
\label{tab:asymmetry:scores}
\end{table}
